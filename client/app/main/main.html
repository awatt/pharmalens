<!-- <div ng-include="'components/navbar/navbar.html'"></div> -->

<!-- <header class="hero-unit" id="banner">
  <div class="container">
    <h1>FOGLIGHT</h1>
    <p class="lead">Cut Through the Pharma Phog</p>
  </div>
</header> -->
<div class="container">

<div  layout="column" ng-cloak>
  <md-content flex layout-padding>
      <div layout="row" layout-xs="column" layout-sm="column" layout-align="space-between center">
        <div flex-gt-sm="80">
          <br>
          <p>
            PHARMALENS
          </p>
          <p>
            According to data from The International Diabetes Federation, about 382 million people on earth now have diabetes, with an estimated 592 million by the year 2035 – a 55% increase.   According to the Centers for Disease Control and Prevention, 29.1 million or 9.3% of all Americans had diabetes as of 2012, with an alarming 8.1 million (27.8%) of them undiagnosed.  About 86 million or 37% of Americans over the age of 20 are considered prediabetic/IGT.   The market for Type 2 Diabetes treatment options is exponentially increasing – current worth estimates are approximately $10 billion in the United States and are predicted to increase to $30 billion by 2030.
          </p>
        </div>
      </div>

<md-content>
    <section layout="row" layout-sm="column" layout-align="center left" layout-wrap>

        <!-- state search -->
        <md-input-container ng-click="loadStates()" flex="10" class="md-block" flex-gt-sm>
            <label>State</label>
            <md-select ng-model="user.state">
              <md-option ng-repeat="state in states" value="{{state.abbrev}}">
                {{state.abbrev}}
              </md-option>
            </md-select>
        </md-input-container>

        <!-- county search -->
        <md-input-container flex="20" class="md-block" flex-gt-sm>
          <label>County</label>
          <md-select ng-model="user.county">
            <md-option ng-repeat="county in counties" value="{{$index}}">
              {{county.name}}
            </md-option>
          </md-select>
        </md-input-container>
        
        <!-- physician name search -->
        <md-autocomplete flex="20" required
          ng-disabled="isDisabled"
          md-no-cache="noCache"
          md-selected-item="selectedItem"
          md-search-text-change="searchTextChange(searchText)"
          md-search-text="searchText"
          md-selected-item-change="selectedItemChange(item)"
          md-items="item in querySearch(searchText)"
          md-item-text="item.display"
          md-min-length="0"
          md-floating-label="Physician",
          md-menu-class="physician-list-template">
          <md-item-template>
            <span class="item-title">
            <span md-highlight-text="searchText" md-highlight-flags="^i">{{item.display}}</span>
          </span>
          <span class="item-metadata">
            <span class="item-metastat">
              <strong>${{item.totalPayments | number : 2}}</strong> in payments
            </span>
            <span class="item-metastat">
              <strong>${{item.totalGrants | number : 2}}</strong> in grants
            </span>
          </span>
          </md-item-template>
          <md-not-found>
          No names matching "{{searchText}}" were found.
          </md-not-found>
        </md-autocomplete>

      <section>
        <md-switch id="diabetes" ng-disabled="true" ng-model="dataSetSwitches.diabetes" ng-click="selectDataSet()" aria-label="Diabetes">Diabetes</md-switch>
        <md-switch id="payments" ng-model="dataSetSwitches.payments" ng-click="selectDataSet()" aria-label="Payments">Payments</md-switch>
        <md-switch id="grants" ng-model="dataSetSwitches.grants" ng-click="selectDataSet()" aria-label="Grants">Grants</md-switch></section>

         <md-button md-no-ink class="md-primary" ng-click="showTabDialog($event, county.FIPS, selectedItem)">Display</md-button>
      </section>

    <section>
     <div id="countyMap"></div>
     <div county-map countyinfo="countyInfo" bins="bins" dataset="dataSet" on-county-click="showTabDialog($event, FIPS, county)"></div>
    </section>

</md-content>

<!-- main body -->

<!-- <div class="container"> -->

<!-- <div id="countyMap"></div>
<div county-map countyinfo="countyInfo" bins="bins" on-county-click="showTabDialog($event, FIPS, county)"></div> -->

<!-- BOOTSTRAP MODAL END -->

<!-- <div id='dataset-picker'></div> -->


</div>
<div class="container">
<footer class="footer">
  
    <p>&copy; Andy Watt, 2015. Made possible by the <a href='https://openpaymentsdata.cms.gov/'>OpenPayments API</a>.</p>
  </div>

</footer>
